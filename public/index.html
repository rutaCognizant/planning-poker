<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RzzRzz Poker</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Landing Page -->
        <div id="landing-page" class="page active">
            <div class="header">
                <h1>üÉè RzzRzz Poker</h1>
                <p>Agile estimation made easy</p>
            </div>
            
            <div class="actions">
                <div class="action-card">
                    <h3>Create New Room</h3>
                    <form id="create-room-form">
                        <input type="text" id="room-name" placeholder="Enter room name" required>
                        <input type="text" id="creator-name" placeholder="Enter your name" required>
                        <button type="submit" class="btn btn-primary">Create Room</button>
                    </form>
                </div>
                
                <div class="action-card">
                    <h3>Join Existing Room</h3>
                    <form id="join-room-form">
                        <input type="text" id="room-id" placeholder="Enter room ID" required>
                        <input type="text" id="joiner-name" placeholder="Enter your name" required>
                        <button type="submit" class="btn btn-secondary">Join Room</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Game Room Page -->
        <div id="game-room" class="page">
            <div class="room-header">
                <div class="room-info">
                    <h2 id="room-name-display"></h2>
                    <div class="room-details">
                        <span>Room ID: <strong id="room-id-display"></strong></span>
                        <button id="copy-room-id" class="btn btn-small">Copy</button>
                    </div>
                </div>
                <button id="leave-room" class="btn btn-danger">Leave Room</button>
            </div>

            <div class="story-section">
                <div class="story-header">
                    <h3>Current Story</h3>
                    <button id="reveal-btn" class="btn btn-primary" disabled>Reveal Votes</button>
                    <button id="clear-btn" class="btn btn-secondary" style="display: none;">New Round</button>
                </div>
                <div class="story-input-container">
                    <textarea id="story-input" placeholder="Enter user story or description..." rows="3"></textarea>
                    <button id="set-story-btn" class="btn btn-primary">Set Story</button>
                </div>
                <div id="current-story" class="current-story"></div>
            </div>

            <!-- Jira Import Section -->
            <div id="jira-import-section" class="jira-import-section" style="display: none;">
                <div class="jira-header">
                    <h3>üìã Import from Jira</h3>
                    <button id="toggle-jira-import" class="btn btn-secondary">Show Jira Import</button>
                </div>
                <div id="jira-import-content" class="jira-import-content" style="display: none;">
                    <div id="room-selected-project" class="room-selected-project">
                        <div class="project-display">
                            <span class="project-label">üéØ Selected Project:</span>
                            <span id="room-project-info" class="room-project-info">Loading...</span>
                        </div>
                    </div>
                    <div class="jira-search">
                        <div class="search-controls">
                            <input type="text" id="jira-search-input" placeholder="Search stories or enter JQL..." class="jira-search-input">
                            <button id="jira-search-btn" class="btn btn-primary">üîç Search</button>
                        </div>
                        <div class="jira-quick-filters">
                            <button class="jira-filter-btn" data-filter="unestimated">üìä Unestimated</button>
                            <button class="jira-filter-btn" data-filter="current-sprint">üèÉ Current Sprint</button>
                            <button class="jira-filter-btn" data-filter="backlog">üìö Backlog</button>
                        </div>
                    </div>
                    <div id="jira-results" class="jira-results" style="display: none;">
                        <div class="jira-results-header">
                            <h4>Jira Stories</h4>
                            <div id="jira-results-count"></div>
                        </div>
                        <div id="jira-stories-list" class="jira-stories-list">
                            Loading...
                        </div>
                    </div>
                </div>
            </div>

            <div class="voting-section">
                <h3>Choose Your Estimate</h3>
                <div id="voting-cards" class="voting-cards"></div>
                <div id="my-vote" class="my-vote" style="display: none;">
                    <span>Your vote: <strong id="my-vote-value"></strong></span>
                </div>
            </div>

            <div class="participants-section">
                <h3>Participants</h3>
                <div id="participants" class="participants"></div>
            </div>

            <div id="voting-results" class="voting-results" style="display: none;">
                <h3>Voting Results</h3>
                <div id="results-grid" class="results-grid"></div>
                <div id="voting-stats" class="voting-stats"></div>
            </div>
        </div>
    </div>

    <div id="notification" class="notification"></div>
    
    <!-- Version Info -->
    <div id="version-info" class="version-info">
        <div class="version-content">
            <span id="version-text">Loading...</span>
            <span id="environment-badge" class="environment-badge">DEV</span>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="app.js"></script>
</body>
</html> 